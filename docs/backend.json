{
  "entities": {
    "UserAccount": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "UserAccount",
      "type": "object",
      "description": "Stores user account information, excluding authentication credentials.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user account."
        },
        "fullName": {
          "type": "string",
          "description": "User's full name."
        },
        "email": {
          "type": "string",
          "description": "User's email address.",
          "format": "email"
        },
        "profilePictureUrl": {
          "type": "string",
          "description": "URL of the user's profile picture.",
          "format": "uri"
        },
        "age": {
          "type": "number",
          "description": "User's age."
        }
      },
      "required": [
        "id",
        "fullName",
        "email"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "UserAccount",
          "schema": {
            "$ref": "#/backend/entities/UserAccount"
          },
          "description": "Stores user account information. Access is restricted to the user identified by {userId}.",
          "params": [
            {
              "name": "userId",
              "description": "The unique identifier of the user."
            }
          ]
        }
      }
    ],
    "reasoning": "The Firestore structure is designed to store user account information. The design focuses on simplicity and security, primarily using path-based ownership for user data. This allows for straightforward security rules based on `request.auth.uid`. The structure avoids `get()` calls in security rules, enabling atomic operations.\n\n*   User Accounts: User account data is stored under `/users/{userId}`. This establishes clear ownership. Since account information is inherently private, this path-based approach is the most suitable.\n\nThis structure allows for list operations since all information in the collections shares the same security posture. There is no need for membership models to implement the features outlined in the prompt."
  }
}